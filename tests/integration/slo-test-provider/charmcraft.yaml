# Copyright 2025 Canonical Ltd.
# See LICENSE file for licensing details.
name: slo-test-provider
summary: Test charm that provides SLO specifications
description: |
  A simple test charm for integration testing that provides SLO 
  specifications to the Sloth charm.

type: "charm"
assumes:
  - k8s-api

bases:
  - build-on:
    - name: "ubuntu"
      channel: "22.04"
    run-on:
    - name: "ubuntu"
      channel: "22.04"

parts:
  charm:
    plugin: charm
    build-packages:
      - git

containers:
  test-app:
    resource: test-app-image

resources:
  test-app-image:
    type: oci-image
    description: Test application image
    upstream-source: ubuntu:22.04

provides:
  sloth:
    interface: slo

config:
  options:
    slo-service-name:
      description: Name of the service in the SLO spec
      type: string
      default: "test-service"
    slo-requests-availability:
      description: SLO objective percentage (e.g., 99.9)
      type: string
      default: "99.9"
